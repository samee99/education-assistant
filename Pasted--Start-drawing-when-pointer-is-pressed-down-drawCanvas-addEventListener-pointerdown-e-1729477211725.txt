
    // Start drawing when pointer is pressed down
    drawCanvas.addEventListener("pointerdown", (e) => {
        if (drawOnlyMode) {
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        }
    });

    // Draw when pointer is moved
    drawCanvas.addEventListener("pointermove", (e) => {
        if (!isDrawing) return;
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
    });

    // Stop drawing when pointer is lifted or leaves the canvas
    drawCanvas.addEventListener("pointerup", () => (isDrawing = false));
    drawCanvas.addEventListener("pointerout", () => (isDrawing = false));

    // Enable Write-to-Text Mode (Apple Scribble enabled)
    function enableWriteMode() {
        drawOnlyMode = false;
        scratchPad.style.display = "block"; // Show textarea (Scribble enabled)
        drawCanvas.style.display = "none"; // Hide canvas
        scratchPad.placeholder = "Start writing here with Apple Pencil...";
        alert("Write to Text mode enabled.");
    }

    // Enable Draw-Only Mode (Switch to canvas, which disables Scribble)
    function enableDrawMode() {
        drawOnlyMode = true;
        scratchPad.style.display = "none"; // Hide textarea
        drawCanvas.style.display = "block"; // Show canvas
        alert("Draw Only mode enabled.");
    }

    // Toggle to Write-to-Text mode
    writeModeButton.addEventListener("click", function () {
        enableWriteMode();
    });

    // Toggle to Draw-Only mode
    drawModeButton.addEventListener("click", function () {
        enableDrawMode();
    });

    // Clear the scratchpad or canvas when the "Clear" button is clicked
    clearButton.addEventListener("click", function () {
        if (drawCanvas.style.display === "block") {
            ctx.clearRect(0, 0, drawCanvas.width, drawCanvas.height); // Clear the canvas
        } else {
            scratchPad.value = ""; // Clear the textarea
        }
    });

    // Resize canvas when window is resized
    window.addEventListener("resize", resizeCanvas);

    // Breathing exercise interaction
    breathingStartButton.addEventListener("click", function () {
        alert("Box Breathing Exercise Started"); // Simple feedback for breathing exercise
    });
});
